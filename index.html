<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script src="./datamaps/dist/datamaps.world.min.js"></script>

<div id="container" style="position: relative; width: 90vw; height: 90vh;;"></div>
<script>
        var browserHistory = new Datamap({
        scope: 'world',
        element: document.getElementById('container'),
        projection: 'mercator',
        geographyConfig: {
            popupOnHover: false,
            highlightOnHover: false,
        },
        
        
         fills: {
        'UK': '#800000',
        'Japan': '#42FF33',
        'NY': '#33E9FF',
        'India': '#FF33CE',
        defaultFill: 'black'
        },
        
         data:{
        "GBR": {
            "fillKey": "UK"
        },
        "IND": { 
            "fillKey": "India"
            },
        "JPN":{
            'fillKey' : 'Japan'
             },
        "NY": {
            'fillKey':"NY"
            }
         },
        
        
        arcConfig: {
            popupOnHover: true,
            // animationSpeed: 600,
            popupTemplate: function(geography, data) {
                 return '<div class="hoverinfo">Site: ' + JSON.stringify(data.site) + '</div>';
             }
        }
      });
  
      var jsonBuffer = [];
      var ipJson = [{"site":"docs.google.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"www.google.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"en.wikipedia.org","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.iplocation.net","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.5331,"longitude":-122.2471}},{"site":"www.pathanalyzer.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":36.8571,"longitude":-75.9896}},{"site":"uk-mg42.mail.yahoo.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.4249,"longitude":-122.0074}},{"site":"mail.google.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"www.monitis.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":41.6929,"longitude":-111.8147}},{"site":"batchgeo.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"chrome.google.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"www.reddit.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"subspotting.nyc","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":33.6119,"longitude":-111.8906}},{"site":"developer.apple. om","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.3042,"longitude":-122.0946}},{"site":"www.nytimes.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.privateinternetaccess.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"www.yougetsignal.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"whatismyipaddress.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"ip-api.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":39.1068,"longitude":-94.566}},{"site":"pitchfork.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"i.imgur.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.w3schools.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"login.newschool.edu","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":40.7482,"longitude":-73.9068}},{"site":"i.gyazo.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"i.redd.it","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"graphics.stanford.edu","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.4241,"longitude":-122.1661}},{"site":"mbostock.github.io","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"stackoverflow.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"bost.ocks.org","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.gpsvisualizer.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":43.9817,"longitude":-121.2722}},{"site":"www.networksorcery.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":32.7977,"longitude":-117.2335}},{"site":"medium.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"bl.ocks.org","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"maptimeboston.github.io","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"community.spiceworks.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.5331,"longitude":-122.2471}},{"site":"datamaps.github.io","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"imgur.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"twitter.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.7758,"longitude":-122.4128}},{"site":"www.youtube.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"www.wired.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.eurekapi.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":52.3824,"longitude":4.8995}},{"site":"putthison.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":40.7391,"longitude":-73.9826}},{"site":"www.codecademy.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"github.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.foxtonforensics.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":52.3824,"longitude":4.8995}},{"site":"www.netflix.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"my.newschool.edu","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":40.7308,"longitude":-73.9975}},{"site":"courses.newschool.edu","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":40.7308,"longitude":-73.9975}},{"site":"canvas.newschool.edu","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"gfycat.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.avclub.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.facebook.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":53.3472,"longitude":-6.2439}},{"site":"www.newyorker.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"secure.ipower.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":42.5051,"longitude":-71.2047}},{"site":"vectorworkz.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"email.ipower.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":42.5051,"longitude":-71.2047}},{"site":"www.coolhunting.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"my.mixtape.moe","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":43.173,"longitude":-77.7139}},{"site":"p5js.org","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":33.9269,"longitude":-117.8612}},{"site":"py.processing.org","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":33.749,"longitude":-84.388}},{"site":"ide.c9.io","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"c9.io","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"processing.org","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":33.749,"longitude":-84.388}},{"site":"samizdat.cc","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":32.7787,"longitude":-96.8218}},{"site":"www.messenger.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":53,"longitude":-8}},{"site":"dvia.samizdat.cc","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":40.7357,"longitude":-74.1724}},{"site":"www.jetbrains.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":53.3389,"longitude":-6.2595}},{"site":"developer.yahoo.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.4249,"longitude":-122.0074}},{"site":"yahooeng.tumblr.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":40.7391,"longitude":-73.9826}},{"site":"www.imdb.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"streamable.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"outlook.office.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":47.6801,"longitude":-122.1206}},{"site":"adfs.mcgill.ca","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":45.504,"longitude":-73.5748}},{"site":"login.microsoftonline.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":41.8483,"longitude":-87.6517}},{"site":"open.spotify.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"accounts.spotify.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"gist.github.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.africa.undp.org","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"giant.gfycat.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"slack.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":47.6103,"longitude":-122.3341}},{"site":"www.talkgraphics.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":52.3613,"longitude":4.6464}},{"site":"ms-dataviz.slack.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":47.6103,"longitude":-122.3341}},{"site":"longform.org","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":40.8326,"longitude":-74.1307}},{"site":"youtu.be","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"www.codeproject.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":43.6665,"longitude":-79.8055}},{"site":"www.ralphlauren.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"tv.avclub.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"mediadownloads.mlb.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"www.espn.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":45.8696,"longitude":-119.688}},{"site":"yuiblog.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.3388,"longitude":-121.8914}},{"site":"www.cbssports.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"plato.stanford.edu","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.4241,"longitude":-122.1661}},{"site":"auth0.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.3388,"longitude":-121.8914}},{"site":"www.fubo.tv","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.clippituser.tv","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":47.6103,"longitude":-122.3341}},{"site":"clips.twitch.tv","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":47.6103,"longitude":-122.3341}},{"site":"drc.usask.ca","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":52.1404,"longitude":-106.608}},{"site":"fivethirtyeight.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.7484,"longitude":-122.4156}},{"site":"static.comicvine.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"i.pinimg.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"blog.mgechev.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"javascript.crockford.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":40.0548,"longitude":-75.4083}},{"site":"ebookcentral-proquest-com.libproxy.newschool.edu","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":40.733,"longitude":-74.0078}},{"site":"www.universityhealthplans.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"yuilibrary.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.3388,"longitude":-121.8914}},{"site":"shibboleth.mcgill.ca","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":45.504,"longitude":-73.5748}},{"site":"ssoauth.verizon.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"mycourses2.mcgill.ca","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":43.4443,"longitude":-80.4891}},{"site":"jsteele2003.github.io","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"bitbucket.org","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":-27,"longitude":133}},{"site":"www.fangraphs.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":29.4889,"longitude":-98.3987}},{"site":"cs.mcgill.ca","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":45.504,"longitude":-73.5748}},{"site":"developer.mozilla.org","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.3885,"longitude":-122.0741}},{"site":"pbs.twimg.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.7758,"longitude":-122.4128}},{"site":"www.jstor.org","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.hbogo.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"philpapers.org","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":43.0147,"longitude":-81.3049}},{"site":"www.amazon.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":47.6344,"longitude":-122.3422}},{"site":"www.newegg.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.tomshardware.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"asrock.pc.cdn.bitgravity.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.5671,"longitude":-122.371}},{"site":"condor.depaul.edu","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":41.8776,"longitude":-87.6272}},{"site":"mlb.mlb.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"nerdist.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.instagram.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":53,"longitude":-8}},{"site":"dappered.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":42.7257,"longitude":-84.636}},{"site":"www.linkedin.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.webopedia.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"www.navixsport.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":49.4478,"longitude":11.0683}},{"site":"careers.google.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"blindbarber.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":45.4166,"longitude":-75.6904}},{"site":"www.uhc.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":45.0469,"longitude":-93.4266}},{"site":"apollo.rip","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"trackerstatus.info","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"play.hbogo.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":38.711,"longitude":-77.1621}},{"site":"www.techpowerup.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":36.175,"longitude":-115.1372}},{"site":"www.mytime.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"s3-us-west-2.amazonaws.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":45.8696,"longitude":-119.688}},{"site":"static1.businessinsider.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.kitchentablecomputers.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":41.85,"longitude":-87.65}},{"site":"www.logicalincrements.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"www.nicehair.org","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.bustle.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"i0.wp.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.7484,"longitude":-122.4156}},{"site":"easyweb.td.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"yallasport.net","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"help.github.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.imgur.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"drive.google.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"caolan.github.io","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":47,"longitude":8}},{"site":"www.unitedhealthcareonline.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":45.0469,"longitude":-93.4266}},{"site":"docs.c9.io","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"msurj.strikingly.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"auth.hbogo.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":42.8864,"longitude":-78.8781}},{"site":"calendee.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"consc.net","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":43.0147,"longitude":-81.3049}},{"site":"developers.google.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"docs.nodejitsu.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":32.7787,"longitude":-96.8218}},{"site":"unix.stackexchange.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.asrock.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":38.9552,"longitude":-94.645}},{"site":"www.physixfan.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"freegeoip.net","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":60,"longitude":-95}},{"site":"i3.football.london","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"vimeo.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"i.redditmedia.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.theverge.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.icloud.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"weknowmemes.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"media.giphy.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.uhcprovider.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":45.0469,"longitude":-93.4266}},{"site":"www.bankofamerica.com","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":38.0033,"longitude":-122.0318}},{"site":"scores.nbcsports.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"www.npmjs.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"secure.bankofamerica.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":38.0033,"longitude":-122.0318}},{"site":"www.javaworld.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.nbcsports.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"stream.nbcsports.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"np.reddit.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"nodejs.org","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.wider.unu.edu","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":60.5,"longitude":22.45}},{"site":"project-free-tv.ag","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":46,"longitude":25}},{"site":"www.adultswim.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"tldp.org","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":36.0525,"longitude":-79.1077}},{"site":"vidto.host","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":46,"longitude":25}},{"site":"ww1.reegeoip.net","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":51.2993,"longitude":9.491}},{"site":"cdn.humoropedia.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":47.542,"longitude":-122.3123}},{"site":"l.facebook.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":53,"longitude":-8}},{"site":"xkcd.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":47,"longitude":8}},{"site":"app5.speedup-mac.site","origin":{"latitude":28.6,"longitude":77.2},"location":"India","options":{"strokeColor":"#FF33CE"},"destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"graphitepublications.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":40.2181,"longitude":-111.6133}},{"site":"www.whoscored.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.5331,"longitude":-122.2471}},{"site":"www.spine-health.com","origin":{"latitude":35.685,"longitude":139.7514},"location":"Japan","options":{"strokeColor":"#42FF33"},"destination":{"latitude":32.7787,"longitude":-96.8218}},{"site":"thumbs.gfycat.com","origin":{"latitude":40.6614,"longitude":-73.9583},"location":"NY","options":{"strokeColor":"#33E9FF"},"destination":{"latitude":37.751,"longitude":-97.822}},{"site":"brobible.com","origin":{"latitude":51.5092,"longitude":-0.0955},"location":"UK","options":{"strokeColor":"#800000"},"destination":{"latitude":37.7484,"longitude":-122.4156}}]
      browserHistory.legend();
       for(var i = 0; i < ipJson.length; i++){
          updateArcs(i);
      }
      
      function updateArcs(index){
          setTimeout(function(){
              console.log(index);
              console.log(jsonBuffer);
              jsonBuffer.push(ipJson[index]);
              browserHistory.arc( jsonBuffer, {strokeWidth: 1});
          }, 1000 + 1500*i);
      }
  
</script>