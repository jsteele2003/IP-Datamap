<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script src="node_modules/datamaps/dist/datamaps.world.min.js"></script>
<script src="https://d3js.org/d3-dsv.v1.min.js"></script>

<div id="container" style="position: relative; width: 90vw; height: 90vh;;"></div>
<script>
        var election = new Datamap({
        scope: 'world',
        element: document.getElementById('container'),
        projection: 'mercator',
        arcConfig: {
            popupOnHover: true,
            // animationSpeed: 600,
        }
      });

    var ipBuffer = [];
    var ipArcs = [
        {
            
            origin: {
                latitude: 38.895111,
                longitude: -77.036667
            },
            destination: {
                latitude: 32.066667,
                longitude: 34.783333 
            }
        },
        {
            origin: {
                latitude: 38.895111,
                longitude: -77.036667
            },
            destination: {
                latitude: 19.433333,
                longitude: -99.133333
            }
        },
        {
            origin: {
                latitude: 38.895111,
                longitude: -77.036667
            },
            destination: {
                latitude: 9.933333,
                longitude: -84.083333
            }
        },
        {
            origin: {
                latitude: 38.895111,
                longitude: -77.036667
            },
            destination: {
                latitude: 54.597 ,
                longitude: -5.93
            }
        },
        {
            origin: {
                latitude: 38.895111,
                longitude: -77.036667
            },
            destination: {
                latitude: 52.516667,
                longitude: 13.383333 
            }
        },
        {
            origin: {
                latitude: 38.895111,
                longitude: -77.036667
            },
            destination: {
                latitude: 14.692778,
                longitude: -17.446667
            }
        },
        {
            origin: {
                latitude: 38.895111,
                longitude: -77.036667
            },
            destination: {
                latitude: -26.204444,
                longitude: 28.045556
            }
        },
                {
            origin: {
                latitude: 38.895111,
                longitude: -77.036667
            },
            destination: {
                latitude: -6.8,
                longitude: 39.283333 
            }
        },
                {
            origin: {
                latitude: 38.895111,
                longitude: -77.036667
            },
            destination: {
                latitude: 59.329444,
                longitude: 18.068611
            }
        },
                {
            origin: {
                latitude: 38.895111,
                longitude: -77.036667
            },
            destination: {
                latitude: 59.95 ,
                longitude: 30.3
            }
        }
    ];
    

 
  
  var jsonBuffer = [];
  var ipJSON = [{"site":"docs.google.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"www.google.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"www.yougetsignal.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.pathanalyzer.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":36.8571,"longitude":-75.9896}},{"site":"www.monitis.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":41.6929,"longitude":-111.8147}},{"site":"en.wikipedia.org","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.iplocation.net","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.5331,"longitude":-122.2471}},{"site":"uk-mg42.mail.yahoo.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"mail.google.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"batchgeo.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.foxtonforensics.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":52.3824,"longitude":4.8995}},{"site":"chrome.google.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.reddit.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"subspotting.nyc","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":33.6119,"longitude":-111.8906}},{"site":"www.nytimes.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.networksorcery.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":32.7977,"longitude":-117.2335}},{"site":"developer.apple.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.3042,"longitude":-122.0946}},{"site":"www.privateinternetaccess.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"pitchfork.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"community.spiceworks.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.5331,"longitude":-122.2471}},{"site":"whatismyipaddress.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"ip-api.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":39.1068,"longitude":-94.566}},{"site":"www.eurekapi.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":52.3824,"longitude":4.8995}},{"site":"login.newschool.edu","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":40.7482,"longitude":-73.9068}},{"site":"i.imgur.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.w3schools.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"i.redd.it","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"i.gyazo.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"graphics.stanford.edu","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.4241,"longitude":-122.1661}},{"site":"www.gpsvisualizer.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":43.9817,"longitude":-121.2722}},{"site":"stackoverflow.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"mbostock.github.io","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":47,"longitude":8}},{"site":"vectorworkz.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"bost.ocks.org","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"bl.ocks.org","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"medium.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"maptimeboston.github.io","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":47,"longitude":8}},{"site":"datamaps.github.io","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"imgur.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"twitter.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.7758,"longitude":-122.4128}},{"site":"www.youtube.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"putthison.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":40.7391,"longitude":-73.9826}},{"site":"www.wired.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"my.newschool.edu","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":40.7308,"longitude":-73.9975}},{"site":"www.webopedia.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"github.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.netflix.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"courses.newschool.edu","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":40.7308,"longitude":-73.9975}},{"site":"canvas.newschool.edu","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"gfycat.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.facebook.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":53,"longitude":-8}},{"site":"www.newyorker.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"secure.ipower.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":42.5051,"longitude":-71.2047}},{"site":"email.ipower.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":42.5051,"longitude":-71.2047}},{"site":"www.coolhunting.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"my.mixtape.moe","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":43.173,"longitude":-77.7139}},{"site":"streamable.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"p5js.org","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":33.9269,"longitude":-117.8612}},{"site":"www.codecademy.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"py.processing.org","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":33.749,"longitude":-84.388}},{"site":"c9.io","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"samizdat.cc","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":32.7787,"longitude":-96.8218}},{"site":"ide.c9.io","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"www.fangraphs.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":29.4889,"longitude":-98.3987}},{"site":"dvia.samizdat.cc","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":40.7357,"longitude":-74.1724}},{"site":"processing.org","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":33.749,"longitude":-84.388}},{"site":"www.talkgraphics.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":52.3613,"longitude":4.6464}},{"site":"www.africa.undp.org","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"www.messenger.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":53,"longitude":-8}},{"site":"www.avclub.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"javascript.crockford.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":40.0548,"longitude":-75.4083}},{"site":"blog.mgechev.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.jetbrains.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":53.3389,"longitude":-6.2595}},{"site":"www.codeproject.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":43.6665,"longitude":-79.8055}},{"site":"developer.yahoo.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.4249,"longitude":-122.0074}},{"site":"yuiblog.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.3388,"longitude":-121.8914}},{"site":"yahooeng.tumblr.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":40.7391,"longitude":-73.9826}},{"site":"www.imdb.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"outlook.office.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":47.6801,"longitude":-122.1206}},{"site":"login.microsoftonline.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":41.8483,"longitude":-87.6517}},{"site":"adfs.mcgill.ca","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":45.504,"longitude":-73.5748}},{"site":"open.spotify.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"accounts.spotify.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"gist.github.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"fivethirtyeight.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.7484,"longitude":-122.4156}},{"site":"giant.gfycat.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":47.6344,"longitude":-122.3422}},{"site":"slack.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":47.6344,"longitude":-122.3422}},{"site":"longform.org","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":40.8326,"longitude":-74.1307}},{"site":"youtu.be","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"dappered.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":42.7257,"longitude":-84.636}},{"site":"www.ralphlauren.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"tv.avclub.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"yuilibrary.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.3388,"longitude":-121.8914}},{"site":"mediadownloads.mlb.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"www.cbssports.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"ms-dataviz.slack.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":47.6344,"longitude":-122.3422}},{"site":"www.espn.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":45.8696,"longitude":-119.688}},{"site":"www.fubo.tv","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"plato.stanford.edu","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.4241,"longitude":-122.1661}},{"site":"auth0.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.3388,"longitude":-121.8914}},{"site":"clips.twitch.tv","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":47.6344,"longitude":-122.3422}},{"site":"www.clippituser.tv","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":47.6344,"longitude":-122.3422}},{"site":"i.pinimg.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":41.8483,"longitude":-87.6517}},{"site":"drc.usask.ca","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":52.1404,"longitude":-106.608}},{"site":"play.hbogo.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"www.hbogo.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"static.comicvine.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"ssoauth.verizon.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"auth.hbogo.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":42.8864,"longitude":-78.8781}},{"site":"ebookcentral-proquest-com.libproxy.newschool.edu","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":40.733,"longitude":-74.0078}},{"site":"www.universityhealthplans.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"shibboleth.mcgill.ca","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":45.504,"longitude":-73.5748}},{"site":"mycourses2.mcgill.ca","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":43.4443,"longitude":-80.4891}},{"site":"consc.net","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":43.0147,"longitude":-81.3049}},{"site":"www.physixfan.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"condor.depaul.edu","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":41.8776,"longitude":-87.6272}},{"site":"jsteele2003.github.io","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":47,"longitude":8}},{"site":"bitbucket.org","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.7749,"longitude":-122.4194}},{"site":"cs.mcgill.ca","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":45.504,"longitude":-73.5748}},{"site":"www.jstor.org","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"philpapers.org","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":43.0147,"longitude":-81.3049}},{"site":"pbs.twimg.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.7758,"longitude":-122.4128}},{"site":"developer.mozilla.org","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.3885,"longitude":-122.0741}},{"site":"www.navixsport.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":49.4478,"longitude":11.0683}},{"site":"www.unitedhealthcareonline.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":45.0469,"longitude":-93.4266}},{"site":"www.uhcprovider.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":45.0469,"longitude":-93.4266}},{"site":"www.uhc.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":45.0469,"longitude":-93.4266}},{"site":"www.tomshardware.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"www.asrock.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":38.9552,"longitude":-94.645}},{"site":"www.amazon.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"www.newegg.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.kitchentablecomputers.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":41.85,"longitude":-87.65}},{"site":"www.techpowerup.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":36.175,"longitude":-115.1372}},{"site":"asrock.pc.cdn.bitgravity.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.5671,"longitude":-122.371}},{"site":"mlb.mlb.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"nerdist.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.logicalincrements.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"yallasport.net","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.instagram.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":53.3472,"longitude":-6.2439}},{"site":"weknowmemes.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.linkedin.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"careers.google.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"apollo.rip","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"trackerstatus.info","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"secure.bankofamerica.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":38.0033,"longitude":-122.0318}},{"site":"easyweb.td.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"static1.businessinsider.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"s3-us-west-2.amazonaws.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":45.8696,"longitude":-119.688}},{"site":"www.nicehair.org","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"i0.wp.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.7484,"longitude":-122.4156}},{"site":"imgtc.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"help.github.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"blindbarber.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":45.4166,"longitude":-75.6904}},{"site":"www.imgur.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"msurj.strikingly.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"drive.google.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"docs.c9.io","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"caolan.github.io","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":47,"longitude":8}},{"site":"www.mytime.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"www.npmjs.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"calendee.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.bankofamerica.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":38.0033,"longitude":-122.0318}},{"site":"docs.nodejitsu.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":32.7787,"longitude":-96.8218}},{"site":"www.javaworld.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"developers.google.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.4192,"longitude":-122.0574}},{"site":"freegeoip.net","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":45.5,"longitude":-73.5833}},{"site":"i3.football.london","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"i.redditmedia.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"unix.stackexchange.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"vimeo.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.theverge.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"ww1.reegeoip.net","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":51.2993,"longitude":9.491}},{"site":"www.joelonsoftware.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":43.6021,"longitude":-79.5402}},{"site":"www.icloud.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"media.giphy.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"wiki.commonjs.org","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":45.8696,"longitude":-119.688}},{"site":"cityandstateny.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":40.9051,"longitude":-74.2099}},{"site":"www.nbcsports.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"scores.nbcsports.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"www.sitepoint.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":45.8696,"longitude":-119.688}},{"site":"stream.nbcsports.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"np.reddit.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.bustle.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":37.7697,"longitude":-122.3933}},{"site":"www.wider.unu.edu","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":60.5,"longitude":22.45}},{"site":"pics.onsizzle.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":47.6344,"longitude":-122.3422}},{"site":"nodejs.org","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"www.adultswim.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":42.3626,"longitude":-71.0843}},{"site":"project-free-tv.ag","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":46,"longitude":25}},{"site":"vidto.host","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":46,"longitude":25}},{"site":"cdn.humoropedia.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":47.6344,"longitude":-122.3422}},{"site":"mhmg.net","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":42.7257,"longitude":-84.636}},{"site":"tldp.org","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":36.0525,"longitude":-79.1077}},{"site":"www.medfusion.net","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.751,"longitude":-97.822}},{"site":"app5.speedup-mac.site","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":39.0481,"longitude":-77.4729}},{"site":"www.linedandunlined.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":38.6312,"longitude":-90.1922}},{"site":"l.facebook.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":53.3472,"longitude":-6.2439}},{"site":"xkcd.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":47,"longitude":8}},{"site":"graphitepublications.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":40.2181,"longitude":-111.6133}},{"site":"www.whoscored.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":31.5,"longitude":34.75}},{"site":"thumbs.gfycat.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":47.542,"longitude":-122.3123}},{"site":"t.umblr.com","origin":{"latitude":35.685,"longitude":139.7514},"country":"Japan","destination":{"latitude":40.7391,"longitude":-73.9826}},{"site":"brobible.com","origin":{"latitude":51.5092,"longitude":-0.0955},"country":"UK","destination":{"latitude":37.7484,"longitude":-122.4156}},{"site":"www.spine-health.com","origin":{"latitude":40.6614,"longitude":-73.9583},"country":"NY","destination":{"latitude":32.7787,"longitude":-96.8218}}] 
  
   for(var i = 0; i < ipJSON.length; i++){
      updateArcs(i);
  }
  
  function updateArcs(index){
      setTimeout(function(){
          console.log(index);
          console.log(jsonBuffer);
          jsonBuffer.push(ipJSON[index]);
          election.arc( jsonBuffer, {strokeWidth: 1});
      }, 1000 + 1000*i);
  }
  
</script>